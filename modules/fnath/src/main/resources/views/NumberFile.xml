<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_4.1.xsd">
    
    <grid name="numberfile-grid" model="com.axelor.apps.fnath.db.NumberFile" title="Dossiers" >
	    <field name="partner"   />
	    <field name="folderName"   />
		<field name="personInCharge"   />
		<field name="startDate" />
		<field name="statusSelect" />
    </grid>
    
    <form name="numberfile-form" model="com.axelor.apps.fnath.db.NumberFile" title="Dossier" >
    <toolbar>
    	<button name="ongoing" title="En cours" hidden="true" showIf="statusSelect == 3" onClick="action-fnath-number-file-ongoing-method"/>
    	<button name="close" title="Clôturer" hidden="true" showIf="statusSelect == 1 || statusSelect == 3" onClick="action-fnath-number-file-closing-method"/>
    </toolbar>
    	<panel colSpan="12">
    		<field name="folderNumber" required="true"/><spacer/>
    		<field name="folderName" colSpan="12"  />
			<field name="startDate" title="Date de début"  />
			<field name="endDate" title="Date de fin" />
		</panel>
	<panel-tabs>
	    <panel title="Actions">
				<field name="actionFlow" title="Suivis des actions" form-view="fnath-number-file-event-form" colSpan="12" />
		</panel>
		<panel title="Pièces jointes">
				<field name="attachments" title="Pièces jointes" colSpan="12" />
		</panel>
		<panel title="Transfert" >
			<field name="company" /> <spacer/>
			<button name="transferFolder" title="Transférer" onClick="action-number-file-method-transfer" css="btn-primary" readonlyIf="company == null" hidden="true" showIf="statusSelect == 1" />
			<button name="returnFolder" title="Retourner" onClick="action-number-file-method-return" css="btn-warning" readonlyIf="company == null" hidden="true" showIf="statusSelect == 2" />
			<field name="numberFileTransfer" form-view="numberfile-transfer-form" grid-view="numberfile-transfer-grid" colSpan="12" canNew="false" canEdit="false" canRemove="false" canSelect="false" readonly="true" />
			<field name="comments" colSpan="12" />
		</panel>
    </panel-tabs>
		
		<panel sidebar="true">
			<field name="personInCharge" title="Assigné à" />
			<field name="statusSelect" readonly="true" />
			<field name="partner" title="Adhérent concerné" canEdit="false" canNew="false"/>
		</panel>
    </form>
    
    <action-method name="action-number-file-method-transfer">
    	<call class="com.axelor.apps.fnath.web.NumberFileController" method="transferFile"/>
    </action-method>
    
    <action-method name="action-number-file-method-return">
    	<call class="com.axelor.apps.fnath.web.NumberFileController" method="returnFile"/>
    </action-method>
    
    <action-method name="action-fnath-number-file-ongoing-method">
    	<call class="com.axelor.apps.fnath.web.NumberFileController" method="onGoing"/>
    </action-method>
    
    <action-method name="action-fnath-number-file-closing-method">
    	<call class="com.axelor.apps.fnath.web.NumberFileController" method="closing"/>
    </action-method>
    
</object-views>
